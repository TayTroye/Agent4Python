

IDS5=[9996,9997,9998,9999,10000]
IDS10=[9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]
IDS15=[9986,9987,9988,9989,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]
IDS20=[9981,9982,9983,9984,9985,9986,9987,9988,9989,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]
IDS25=[9976,9977,9978,9979,9980,9981,9982,9983,9984,9985,9986,9987,9988,9989,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]
IDS30=[9971,9972,9973,9974,9975,9976,9977,9978,9979,9980,9981,9982,9983,9984,9985,9986,9987,9988,9989,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]
IDS35=[9966,9967,9968,9969,9970,9971,9972,9973,9974,9975,9976,9977,9978,9979,9980,9981,9982,9983,9984,9985,9986,9987,9988,9989,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]
IDS40=[9961,9962,9963,9964,9965,9966,9967,9968,9969,9970,9971,9972,9973,9974,9975,9976,9977,9978,9979,9980,9981,9982,9983,9984,9985,9986,9987,9988,9989,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]
IDS45=[9956,9957,9958,9959,9960,9961,9962,9963,9964,9965,9966,9967,9968,9969,9970,9971,9972,9973,9974,9975,9976,9977,9978,9979,9980,9981,9982,9983,9984,9985,9986,9987,9988,9989,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]
IDS50=[9951,9952,9953,9954,9955,9956,9957,9958,9959,9960,9961,9962,9963,9964,9965,9966,9967,9968,9969,9970,9971,9972,9973,9974,9975,9976,9977,9978,9979,9980,9981,9982,9983,9984,9985,9986,9987,9988,9989,9990,9991,9992,9993,9994,9995,9996,9997,9998,9999,10000]


DATASET=Video_Games
TOKEN=rqvae3x256_deep_128_ema/sentence-t5-base_256,256,256,256



echo "best test 6Layer 15/20 tokens ========================================================================================"



CUDA_VISIBLE_DEVICES=0,1,2,3 \
accelerate launch \
    --main_process_port 11132 \
    --num_processes 4 main.py \
    --dataset=$DATASET \
    --config_file=config/ptconfig_mnt.yaml \
    --token_prefix=$TOKEN \
    --lr=0.005 \
    --epochs=300 \
    --num_layers=6 \
    --num_decoder_layers=6 \
    --save_interval=10 \
    --patience=50 \
    --eval_interval=1 \
    --val_ratio=0.5 \
    --val_delay=500 \
    --sem_id_epochs=$IDS15


CUDA_VISIBLE_DEVICES=0,1,2,3 \
accelerate launch \
    --main_process_port 11132 \
    --num_processes 4 main.py \
    --dataset=$DATASET \
    --config_file=config/ptconfig_mnt.yaml \
    --token_prefix=$TOKEN \
    --lr=0.005 \
    --epochs=300 \
    --num_layers=6 \
    --num_decoder_layers=6 \
    --save_interval=10 \
    --patience=50 \
    --eval_interval=1 \
    --val_ratio=0.5 \
    --val_delay=500 \
    --sem_id_epochs=$IDS20




echo "best test 7Layer 20/25 tokens ========================================================================================"


CUDA_VISIBLE_DEVICES=0,1,2,3 \
accelerate launch \
    --main_process_port 11132 \
    --num_processes 4 main.py \
    --dataset=$DATASET \
    --config_file=config/ptconfig_mnt.yaml \
    --token_prefix=$TOKEN \
    --lr=0.005 \
    --epochs=300 \
    --num_layers=7 \
    --num_decoder_layers=7 \
    --save_interval=10 \
    --patience=50 \
    --eval_interval=1 \
    --val_ratio=0.5 \
    --val_delay=500 \
    --sem_id_epochs=$IDS20

